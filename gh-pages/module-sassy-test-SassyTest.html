<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>sassy-test JavaScript API: Class: SassyTest</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: SassyTest</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-sassy-test.html">sassy-test</a>~</span>SassyTest</h2>
        
            <div class="class-description"><p>A SassyTest object represents test helper for testing node-sass modules.</p>
<p>This class is normally accessed via the
<a href="module-sassy-test.html"><code>sassy-test</code></a> module:</p>
<pre class="prettyprint source"><code>var SassyTest = require('sassy-test');
var sassyTest = new SassyTest();</code></pre></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="SassyTest"><span class="type-signature"></span>new SassyTest<span class="signature">(config<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Creates a SassyTest object.</p>
<p>If the optional initialization object is given to the constructor, it will
be passed to the <code>configurePaths()</code> method.</p>
<p>For example, this:</p>
<pre class="prettyprint source"><code>var SassyTest = require('sassy-test');
var sassyTest = new SassyTest({includePaths: ['/my/path/to/library']});</code></pre><p>is equivalent to:</p>
<pre class="prettyprint source"><code>var SassyTest = require('sassy-test');
var sassyTest = new SassyTest();
sassyTest.configurePaths({includePaths: ['/my/path/to/library']});</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional initialization object.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sassy-test.js.html">sassy-test.js</a>, <a href="sassy-test.js.html#line31">line 31</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="assertResult"><span class="type-signature"></span>assertResult<span class="signature">(result)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Runs assertions against <code>renderFixture()</code>'s result object.</p>
<p>The <code>renderFixture()</code> automatically calls this method to run a standard set
of assertions against the result object before it is returned. If no Sass
error occurs, <code>assertResult()</code> checks for an error when reading the
output.css file using <code>assert.ifError()</code> and compares the results to the
expected output using <code>assert.strictEqual()</code>.</p>
<p>If the SassyTest user chooses, this method can be overridden to perform
different assertions.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The result object returned by <code>renderFixture()</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sassy-test.js.html">sassy-test.js</a>, <a href="sassy-test.js.html#line250">line 250</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="configurePaths"><span class="type-signature"></span>configurePaths<span class="signature">(config)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Configures the paths needed for the sassyTest object.</p>
<pre class="prettyprint source"><code>var SassyTest = require('sassy-test');
var sassyTest = new SassyTest();
sassyTest.configurePaths({
  fixtures: '/my/path/to/fixtures',
  includePaths: ['/my/path/to/library']
});</code></pre><p>If sassy-test is installed in node_modules and your test fixtures are in
<code>./test/fixtures</code> (relative to the root of your project), then sassy-test
will automatically configure the <code>fixtures</code> path without you having to set
<code>fixtures</code> with <code>configurePaths()</code>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>A configuration object containing the properties:
  <code>fixtures</code> and <code>includePaths</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sassy-test.js.html">sassy-test.js</a>, <a href="sassy-test.js.html#line87">line 87</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="fixture"><span class="type-signature"></span>fixture<span class="signature">(&hellip;path)</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    <p>Returns the full path to the requested test fixture.</p>
<p>When called without any parameters, this method returns the path to the
test fixtures directory. If one or more parameters are given, the method
will append them to the returned path.</p>
<pre class="prettyprint source"><code>var SassyTest = require('sassy-test');
var sassyTest = new SassyTest();

// Returns full path to the test fixtures.
var fixturePath = sassyTest.fixture();
// Returns full path to [fixtures]/sub-folder.
var fixturePath = sassyTest.fixture('sub-folder');
// Returns full path to [fixtures]/sub-folder/_file.scss.
var fixturePath = sassyTest.fixture('sub-folder', '_file.scss');</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                    &lt;repeatable><br>
                
                </td>
            

            

            <td class="description last"><p>Optional paths inside the fixtures directory.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sassy-test.js.html">sassy-test.js</a>, <a href="sassy-test.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>The path to the requested test fixture.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="render"><span class="type-signature"></span>render<span class="signature">(options, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise|*}</span></h4>

    



<div class="description">
    <p>Runs node-sass' render() with a light-weight wrapper.</p>
<p>In addition to running node-sass' render(), this method:</p>
<ul>
<li>adds the test fixtures path directory to the includePaths</li>
<li>ensures the includePaths are passed to node-sass</li>
</ul>
<p>And sassy-test modifies the <a href="https://github.com/sass/node-sass#result-object">node-sass result
object</a> by</p>
<ul>
<li>converting the <code>css</code> property from a buffer to a string</li>
<li>converting the <code>map</code> property from a buffer to an object (Note: you will
need to configure the proper sourcemap options before node-sass will add
a <code>map</code> property.)</li>
</ul>
<p>Sassy-test also adds the following properties to the node-sass result
object:</p>
<ul>
<li><code>warn</code>: An array containing the output of any @warn statements.</li>
<li><code>debug</code>: An array containing the output of any @debug statements.</li>
</ul>
<pre class="prettyprint source"><code>var SassyTest = require('sassy-test');
var sassyTest = new SassyTest();

describe('a test suite', function() {
  it('should test something', function(done) {
    var options = {
      data: '@import &quot;init&quot;; // Imports fixtures/_init.scss.'
    };
    sassyTest.render(options, function(error, result) {
      assert.ifError(error);
      assert.ok(result.css);
      done();
    });
  });
});</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The options to pass to node-sass' render(). For
  the full list of options, see the <a href="https://github.com/sass/node-sass#options">node-sass documentation for
  &quot;options&quot;</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An asynchronous callback with the signature
  of <code>function(error, result)</code>. In error conditions, the error argument is
  populated with the <a href="https://github.com/sass/node-sass#error-object">node-sass error
  object</a>. In success
  conditions, the result object is populated with an object describing the
  result of the render call.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sassy-test.js.html">sassy-test.js</a>, <a href="sassy-test.js.html#line176">line 176</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>If no <code>callback</code> function is given, this method
  returns a Promise that resolves to node-sass' result object.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>
|

<span class="param-type">*</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="renderFixture"><span class="type-signature"></span>renderFixture<span class="signature">(fixtureDirectory, options, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise|*}</span></h4>

    



<div class="description">
    <p>Renders the test fixture and returns the result.</p>
<p>Looks inside the specified folder in test/fixtures, renders the input.scss
file and reads the output.css file. Before it returns the node-sass result
object, it calls <code>assertResult()</code> to run a standard set of assertions.</p>
<p>renderFixture() does not test for errors itself; it requires the callback
to decide if a Sass error is a test failure or not. Good Sass libraries
should <code>@error</code> if used incorrectly and sassy-test lets you see these
errors and assert they were the expected result.</p>
<p>Sassy-test modifies the <a href="https://github.com/sass/node-sass#result-object">node-sass result
object</a> by</p>
<ul>
<li>converting the <code>css</code> property from a buffer to a string</li>
<li>converting the <code>map</code> property from a buffer to an object (Note: you will
need to configure the proper sourcemap options before node-sass will add
a <code>map</code> property.)</li>
</ul>
<p>Sassy-test also adds the following properties to the node-sass result
object:</p>
<ul>
<li><code>warn</code>: An array containing the output of any @warn statements.</li>
<li><code>debug</code>: An array containing the output of any @debug statements.</li>
<li>sassError: A node-sass error object which contains @error statements, if
any.</li>
<li>expectedOutput: The text of the output.css file; should match the <code>css</code>
property provided by node-sass.</li>
</ul>
<pre class="prettyprint source"><code>var SassyTest = require('sassy-test');
var sassyTest = new SassyTest();

describe('a test suite', function() {
  it('should test something', function(done) {
    var options = {
      data: '@import &quot;init&quot;; // Imports fixtures/_init.scss.'
    };
    sassyTest.renderFixture('sometest', options, function(error, result) {
      // If there was no error, renderFixture() has already compared
      // the rendered output of fixtures/sometest/input.scss to
      // fixtures/sometest/output.css.
      assert.ifError(error);
      done();
    });
  });
});</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fixtureDirectory</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The path (relative to the fixtures base
  directory) to the fixture to test.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The options to pass to node-sass' render(). For
  the full list of options, see the <a href="https://github.com/sass/node-sass#options">node-sass documentation for
  &quot;options&quot;</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>An asynchronous callback with the signature
  of <code>function(error, result)</code>. In error conditions, the error argument is
  populated with the <a href="https://github.com/sass/node-sass#error-object">node-sass error
  object</a>. In success
  conditions, the result object is populated with an object describing the
  result of the render call.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sassy-test.js.html">sassy-test.js</a>, <a href="sassy-test.js.html#line320">line 320</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>If no <code>callback</code> function is given, this method
  returns a Promise that resolves to node-sass' result object.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>
|

<span class="param-type">*</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-sassy-test.html">sassy-test</a></li></ul><h3>Classes</h3><ul><li><a href="module-sassy-test-SassyTest.html">SassyTest</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
